<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- saved from url=(0063)http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node7.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Quote and quasiquote</title>
<meta name="description" content="Quote and quasiquote">
<meta name="keywords" content="schemetutorial">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">


<meta name="Generator" content="LaTeX2HTML v99.2beta6">
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="STYLESHEET" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.css">

<link rel="next" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">
<link rel="previous" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node6.html">
<link rel="up" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.html">
<link rel="next" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">
</head>

<body>
<!--Navigation Panel-->
<a name="tex2html255" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">
<img width="37" height="24" align="BOTTOM" border="0" alt="next" src="./Quote and quasiquote_files/next.png"></a> 
<a name="tex2html251" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.html">
<img width="26" height="24" align="BOTTOM" border="0" alt="up" src="./Quote and quasiquote_files/up.png"></a> 
<a name="tex2html245" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node6.html">
<img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="./Quote and quasiquote_files/prev.png"></a> 
<a name="tex2html253" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node1.html">
<img width="65" height="24" align="BOTTOM" border="0" alt="contents" src="./Quote and quasiquote_files/contents.png"></a>  
<br>
<b> Next:</b> <a name="tex2html256" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">Procedures</a>
<b> Up:</b> <a name="tex2html252" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.html">Scheme Tutorial</a>
<b> Previous:</b> <a name="tex2html246" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node6.html">Logical composition operators</a>
 &nbsp; <b>  <a name="tex2html254" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node1.html">Contents</a></b> 
<br>
<br>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<a name="CHILD_LINKS"><strong>Subsections</strong></a>

<ul>
<li><a name="tex2html257" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node7.html#SECTION00710000000000000000">Quote</a>
</li><li><a name="tex2html258" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node7.html#SECTION00720000000000000000">Quasiquote</a>
</li></ul>
<!--End of Table of Child-Links-->
<hr>

<h1><a name="SECTION00700000000000000000">
Quote and quasiquote</a>
</h1>

<p>

</p><h1><a name="SECTION00710000000000000000">
Quote</a>
</h1>

<p>
Quotation is used when literal constants need to be included in the code. 
This is done by using <tt>quote</tt>, which has the following syntax:

</p><p>
</p><pre>(quote datum)
</pre>

<p>
The expression evaluates to <i>datum</i>, which may be any external
representation of a Scheme object, i.e. a sequence of characters. For example,
the external representation of the integer 10 is the sequence of characters
``10''. It is also possible to abbreviate the expression above in the 
following way: 
</p><pre>'datum
</pre>

<p>
The two notations are equivalent. Let us take a look at some examples:
</p><pre>&gt; (quote a)
a
&gt; 'a
a
&gt; (quote foo)
foo
&gt; (quote (quote foo))
(quote foo)
&gt; (quote 'foo)
(quote foo)
&gt; ''foo
(quote foo)
</pre>

<p>
The difference between a quoted and an unquoted symbol is the following:

</p><p>
</p><pre>&gt; (define a 10)
&gt; a
10
&gt; 'a
a
</pre>

<p>
As you can see, when <i>a</i> was left unquoted when fed to the interpreter,
it was evaluated and its value was returned. When we quoted <i>a</i> we were
not interested in the value of the variable <i>a</i> but rather in the 
symbol <i>a</i>.

</p><p>
Let's say we have the list <tt>(a 1 2)</tt> and we feed it to the interpreter. 
What happens? Well, the interpreter will try to apply the arguments 1 and 2
to the procedure <i>a</i>. To prevent this from happening, we simply quote 
the list:
</p><pre>&gt; (a 1 2)
procedure application: expected procedure, given: 10; arguments were: 1 2
&gt; '(a 1 2)
(a 1 2)
</pre>

<p>

</p><h1><a name="SECTION00720000000000000000">
Quasiquote</a>
</h1>

<p>
Quasiquotes are used to construct lists or vectors when some of the desired
structure is not known in advance. The syntax of <tt>quasiquote</tt> is the
following:
</p><pre>(quasiquote &lt;qq template&gt;)
</pre>

<p>
It is also possible to use the abbreviated but equivalent notation:

</p><p>
</p><pre>`&lt;qq template&gt;
</pre>

<p>
If no commas appear within <i>&lt;qq template&gt;</i>, the result is the same
as for evaluating <i>'&lt;qq template&gt;</i>:

</p><p>
</p><pre>&gt; `(1 2)
(1 2)
&gt; '(1 2)
(1 2)
</pre>

<p>
However, if a comma appears, the expression which follows the comma will be
evaluated and the value returned will be inserted into the structure in place 
of the comma expression, for example:

</p><p>
</p><pre>&gt; `(1 ,(+ 2 3) 4)
(1 5 4)
</pre>

<p>
The comma can also be expressed using <tt>unquote</tt>. The notations are
equivalent.
</p><pre>&gt; `(1 (unquote (+ 2 3)) 4)
(1 5 4)
</pre>

<p>
If the comma is followed by an <tt>@</tt> (at-sign), then the expression that 
follows must evaluate to a list, for example:

</p><p>
</p><pre>&gt; `(,@(cdr '(1 2 3)))
(2 3)
&gt; `(1 ,(acos -1) ,@(map sqrt '(1 4 9 16 25)))
(1 3.1415926535898 1 2 3 4 5)
&gt; (define ls '(2 3))
&gt; `(1 ,ls 4)
(1 (2 3) 4)
&gt; `(1 ,@ls 4)
(1 2 3 4)
</pre>

<p>
As can be seen from the examples above, when a comma is used, the expression
following it will be evaluated and the value returned will replace the whole
comma expression. If <tt>@</tt> is used, the elements of the list that is 
returned replace the <tt>@</tt> expression.

</p><p>
It is also possible to use <tt>unquote-splicing</tt> instead of <tt>@</tt>. The
two notations are equivalent:

</p><p>
</p><pre>&gt; `(,@(cdr '(1 2 3)))
(2 3)
&gt; `((unquote-splicing (cdr '(1 2 3))))
(2 3)
</pre>
<hr>
<!--Navigation Panel-->
<a name="tex2html255" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">
<img width="37" height="24" align="BOTTOM" border="0" alt="next" src="./Quote and quasiquote_files/next.png"></a> 
<a name="tex2html251" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.html">
<img width="26" height="24" align="BOTTOM" border="0" alt="up" src="./Quote and quasiquote_files/up.png"></a> 
<a name="tex2html245" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node6.html">
<img width="63" height="24" align="BOTTOM" border="0" alt="previous" src="./Quote and quasiquote_files/prev.png"></a> 
<a name="tex2html253" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node1.html">
<img width="65" height="24" align="BOTTOM" border="0" alt="contents" src="./Quote and quasiquote_files/contents.png"></a>  
<br>
<b> Next:</b> <a name="tex2html256" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node8.html">Procedures</a>
<b> Up:</b> <a name="tex2html252" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/schemetutorial.html">Scheme Tutorial</a>
<b> Previous:</b> <a name="tex2html246" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node6.html">Logical composition operators</a>
 &nbsp; <b>  <a name="tex2html254" href="http://www.cs.hut.fi/Studies/T-93.210/schemetutorial/node1.html">Contents</a></b> 
<!--End of Navigation Panel-->
<address>
Timo Lilja
2001-09-11
</address>


</body></html>